---
name: 機能追加（フラグ分岐など）
about: 添付の様式に沿って新しい機能要望を作成します
labels: enhancement
---

# フラグによる分岐機能の追加

## 概要
特定のシーン到達時に Cookie 等を使ってフラグを保存し、他のシーンや選択肢でフラグの有無によって表示・非表示を分岐できる機能を追加してください。フラグ情報は WordPress 側ではなく、ユーザー個別のブラウザ内で保持します。投稿編集画面でシーン到達時に設定するフラグ、分岐条件（AND/OR 論理判定）を設定できるようにしてください。

### 要件
- シーン到達時にフラグを localStorage で保存
- 他のシーンや選択肢でフラグ有無により表示制御
- フラグは WordPress 側には保存しない
- 投稿編集画面でフラグ設定／分岐条件（AND/OR）の指定が可能
- 分岐条件は複数フラグの論理判定（AND/OR）に対応

### チェックリスト
- [ ] シーン到達時のフラグ保存機能を実装
- [ ] フラグの有無による分岐制御機能を実装
- [ ] 投稿編集画面でフラグ設定 UI を追加
- [ ] 投稿編集画面で分岐条件（AND/OR）指定 UI を追加
- [ ] フラグ情報はブラウザ内のみ保持（WordPress 側保存なし）
- [ ] AND/OR 複数条件分岐の動作検証

## 重要事項
- /.github/copilot-instructions.md の指示に基づく運用を コメントによる追加修正時でも 徹底
- タイトルや概要、コメントはルールに則り 日本語 で投稿
- 一度作成したプルリクエストのタイトルや概要の内容を追加修正に伴って変更することは 絶対に行わない
- プルリクエストの機能追加、バグ修正に伴って正常動作している機能を損なわないように 細心の注意 を払う

## 参考
- ノベルゲーム仕様（「かまいたちの夜」等）
