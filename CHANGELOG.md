# Changelog

All notable changes to Novel Game Plugin will be documented in this file.

## [Unreleased]

### Added (追加機能)

- **タイトル画像上の文字可読性向上**
  - タイトル文字に自動的に縁取り（text-stroke）と影（text-shadow）を適用
  - どんな画像背景でもタイトルが読みやすくなる可読性強化
  - 管理画面で「タイトルを画像上に重ねて表示」のオン/オフ切り替え機能
  - 管理画面でタイトル文字色のカスタマイズ（カラーピッカー）
  - Webkit非対応ブラウザ向けのフォールバック対応
  - 既存の表示動作を維持（デフォルトでオン）

## [1.2.0] - Unreleased

### 🎯 メニュー改善第一段階：ゲーム中心型統合メニューへの刷新

このバージョンでは、ユーザーエクスペリエンスを大幅に改善するため、メニュー構造を全面的に刷新しました。ゲーム管理を中心とした直感的なワークフローを実現しています。

#### Added (追加機能)

- **🏠 ダッシュボード** - 新規追加
  - プラグイン概要とクイックアクション
  - ゲーム・シーン統計情報の表示
  - 使い方ガイドの統合
  - 主要機能への素早いアクセス

- **🎮 マイゲーム** - 新規追加
  - 作成済みゲームの一覧表示
  - ゲーム選択機能（user_metaで状態管理）
  - ゲーム個別管理画面への直感的な遷移
  - カード形式の美しいゲーム表示

- **ゲーム個別管理画面** - 新規追加
  - タブ式インターフェース（シーン一覧/新規シーン作成/ゲーム設定）
  - 選択中のゲームに特化したシーン管理
  - シーン作成時の自動ゲームタイトル設定
  - ゲーム設定の統合表示

- **⚙️ 設定** - 新規追加
  - プラグイン全体設定の一元管理
  - ショートコード一覧とコピー機能
  - 使用可能なオプションの詳細説明
  - プラグイン情報の表示

- **📢 広告管理** - 新規追加
  - Google AdSense Publisher ID管理
  - Adsterra Publisher ID管理
  - 広告プロバイダー公式サイトへのリンク
  - ユーザー責任に関する注意書き表示

- **新規ゲーム作成の改善**
  - ゲーム説明フィールドの追加
  - タイトル画像フィールドの追加
  - 作成完了後、ゲーム個別管理画面への自動リダイレクト
  - メディアアップローダー統合

#### Changed (変更)

- **メインメニュー名** - 「ノベルゲーム」→「ノベルゲーム管理」に変更
- **メニュー構造の最適化**
  - 絵文字アイコンによる視覚的識別性の向上
  - 論理的な並び順の最適化
  - ゲーム中心のワークフローへの統合

- **ナビゲーションの改善**
  - シーン作成時のゲームタイトル自動設定（URLパラメータ対応）
  - ゲーム管理画面からのシーン作成フローの統合
  - 「マイゲームに戻る」ナビゲーションの追加

- **リダイレクト処理の改善**
  - ゲーム更新後、ゲーム個別管理画面に戻る
  - フラグ追加・削除後、ゲーム個別管理画面に戻る
  - 新規ゲーム作成後、ゲーム個別管理画面に遷移

#### Removed (削除)

- **「すべてのノベルゲーム」メニュー** - 廃止
  - 全ゲーム混在表示は混乱を招くため削除
  - 代わりに「マイゲーム」でゲーム選択後、各ゲームのシーンを表示

- **「新しいノベルゲームを追加」メニュー** - 廃止
  - WordPress標準の「新規追加」メニューを削除
  - 代わりに「新規ゲーム作成」で明確な作成フローを提供

#### Fixed (バグ修正)

- meta-boxes.phpの「ゲーム管理」リンクをマイゲームページに修正
- 新規ゲーム作成時のワークフロー改善

#### Technical Changes (技術的変更)

- 新規ファイル追加:
  - `admin/dashboard.php` - ダッシュボードページ
  - `admin/my-games.php` - マイゲームページ
  - `admin/game-manager.php` - ゲーム個別管理ページ
  - `admin/plugin-settings.php` - プラグイン設定ページ
  - `admin/ad-management.php` - 広告管理ページ
  - `css/admin-ad-management.css` - 広告管理画面スタイル

- 既存ファイル更新:
  - `includes/post-types.php` - メニューカスタマイズ関数追加
  - `admin/new-game.php` - リダイレクト先変更、フィールド追加
  - `admin/game-settings.php` - リダイレクトURL修正
  - `admin/meta-boxes.php` - URLパラメータ対応、リンク修正

### Migration Notes (移行時の注意事項)

このアップデートは後方互換性を維持していますが、以下の点に注意してください：

1. **メニュー構造の変更**
   - 既存のブックマークやマニュアルは新しいメニュー構造に対応させる必要があります
   - 直接URLでアクセスしていた場合は、新しいURLに更新してください

2. **データの互換性**
   - すべての既存ゲームとシーンデータは完全に互換性があります
   - ゲーム管理データ（noveltool_games）は変更なく使用できます

3. **推奨される使用方法**
   - 新しいワークフロー：マイゲーム → ゲーム選択 → シーン管理
   - ゲーム作成：新規ゲーム作成 → 自動的にゲーム個別管理画面へ

---

## [1.1.2] - Previous Release

（以前のリリース情報）

